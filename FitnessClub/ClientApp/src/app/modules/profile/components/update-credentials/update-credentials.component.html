<form [formGroup]="form" *ngIf="form !== undefined" method="post" (ngSubmit)="submit()"
      class="w-1/3 mx-auto my-2 flex flex-col space-y-3">
  <h3 class="text-red-500 text-lg text-center font-medium italic">{{errorMessage}}</h3>
  <div class="flex flex-col justify-center space-y-0.5 w-3/4 mx-auto">
    <label class="font-medium text-lg italic">Email:</label>
    <input formControlName="email" type="email" name="email" class="border-2 rounded p-px"
           style="border-color: var(--primary-color)"/>
  </div>
  <div class="flex flex-col space-y-0.5 w-3/4 mx-auto">
    <label class="font-medium text-lg italic">Password:</label>
    <input formControlName="password" type="password" name="password"
           placeholder=" Leave blank if you don't wish to change it" class="border-2 rounded p-px "
           style="border-color: var(--primary-color)"/>
    <div *ngIf="form.get('password') as pw">
      <div *ngIf="pw?.touched && pw?.invalid">
        <span *ngIf="pw.errors?.minlength">The password has to be 8 or more characters long</span>
        <span *ngIf="pw.errors?.pattern">Password must contain at least one uppercase letter, one lowercase letter, one number and one special character</span>
      </div>
    </div>
  </div>
  <div class="flex flex-col space-y-0.5 w-3/4 mx-auto">
    <label class="font-medium text-lg italic">Password Confirm:</label>
    <input formControlName="passwordConfirm" type="password" name="password"
           class="border-2 rounded p-px "
           style="border-color: var(--primary-color)"/>
    <div *ngIf="form.get('passwordConfirm') as pc">
      <div *ngIf="pc?.touched && (pc?.invalid || form.invalid)">
        <span *ngIf="form.hasError('mismatch')">Passwords do not match</span>
      </div>
    </div>
  </div>
  <button [disabled]="form.invalid" type="submit" class="w-1/4 mx-auto my-2 border-2 rounded"
          style="border-color: var(--primary-color); background-color: var(--primary-color); color: var(--background-color)">
    Update
  </button>
</form>
